<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="An incremental game based on Progress Knight">
    <meta name="keywords"
        content="Incremental game, Idle game, PK Rewritten, Progress knight rewritten, Progress knight, PK, PK 2, Progress knight 2, PK Quest, Progress knight quest">
    <meta name="author" content="Zdzban">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <link rel="stylesheet" type="text/css" href="css/mainpanel.css">
    <link id="themePrimaryStylesheet" rel="stylesheet" type="text/css" href="css/themes/primary/dark.css">
    <link id="themeSecondaryStylesheet" rel="stylesheet" type="text/css" href="css/themes/secondary/yellow.css">
    <link id="themeTextShadowStylesheet" rel="stylesheet" type="text/css" href="unset">
    <link id="mobileStylesheet" rel="stylesheet" type="text/css" href="unset">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
        rel="stylesheet">
    <title>Progress Knight Rewritten</title>
    <link rel="shortcut icon" href="img/logoPK.png">
</head>

<body>
    <div>
        <div id="title">
            <img src="img/logoPK.png">
            <h1>Progress Knight Rewritten</h1>
        </div>
        <div class="all-panels">
            <div id="sidebar" class="sidebar tab roboto-regular">
                <div class="hidden" id="info">
                    <span class="red-letters">Age has caught up to you</span><br>
                    <span class="grayed">Your age has met your lifespan;<br>use the amulet to rebirth before<br>you pass
                        away</span>
                    <div class="space"></div>
                </div>
                <div class="display timeDisplay">
                    <p class="age"><span id="ageDisplay">Age 14 Day 0</span></p>
                    <p class="lifespan grayed">Lifespan: <span id="lifespanDisplay">70</span> Years</p>
                    <p class="realtime grayed">Real Time: <span id="realtimeDisplay">00:00</span></p>
                </div>
                <div class="buttonGroup">
                    <div id="pauseButton" onclick="pauseButton()">Pause</div>
                    <div class="verticalButtonGroup">
                        <div id="autoSkill" class="toggleButton" onclick="toggleAutoSkill(true)">Auto skill</div>
                        <div id="autoPromote" class="toggleButton" onclick="toggleAutoPromote(true)">Auto promote</div>
                    </div>
                    <div id="autoBuy" class="toggleButton" onclick="toggleAutoBuy(true)">Auto buy</div>
                </div>
                <div class="display moneyDisplay">
                    <p style="font-size: 16px; margin: -35px 0 0 0; color: var(--color1)">Balance:</p>
                    <div class="money" id="coinDisplay">
                        <span style="color: red">Error: cant set coins</span>
                        <span></span>
                        <span></span>
                        <span></span>
                        <span></span>
                        <span></span>
                        <span></span>
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                    <div class="space"></div>
                    <div class="coinFlow">
                        <div class="netDisplayBox">
                            <span style="color: var(--net)">Net: </span><span><b id="signDisplay"
                                    style="color: gray"></b></span>
                            <div id="netDisplay" style="display: inline;">
                                <span style="color: red">Error: cant set coins</span>
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                            </div>
                        </div>
                        <div class="incomeDisplayBox">
                            <span style="color: var(--income)">Income: </span>
                            <div id="incomeDisplay" style="display: inline;">
                                <span style="color: red">Error: cant set coins</span>
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                            </div>
                        </div>
                        <div class="expenseDisplayBox">
                            <span style="color: var(--expense)">Expense: </span>
                            <div id="expenseDisplay" style="display: inline;">
                                <span style="color: red">Error: cant set coins</span>
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                            </div>
                        </div>
                    </div>
                    <div class="space"></div>
                </div>
                <div class="display">
                    <div id="currentJobsDisplay">
                        <span class="grayed">Current Jobs (last 3)</span>
                        <div class="jobDisplay jobProgressBar selected" id="jobDisplay1">
                            <div class="jobProgressBarProgress selected" style="width: 10%"></div>
                            <span class="jobProgressBarText"></span>
                        </div>
                        <div class="jobDisplay jobProgressBar selected" id="jobDisplay2">
                            <div class="jobProgressBarProgress selected" style="width: 10%"></div>
                            <span class="jobProgressBarText"></span>
                        </div>
                        <div class="jobDisplay jobProgressBar selected" id="jobDisplay3">
                            <div class="jobProgressBarProgress selected" style="width: 10%"></div>
                            <span class="jobProgressBarText"></span>
                        </div>
                    </div>
                    <div id="currentSkillsDisplay">
                        <span class="grayed">Current Skills (last 3)</span>
                        <div class="skillDisplay skillProgressBar selected" id="skillDisplay1">
                            <div class="skillProgressBarProgress selected" style="width: 10%"></div>
                            <span class="skillProgressBarText"></span>
                        </div>
                        <div class="skillDisplay skillProgressBar selected" id="skillDisplay2">
                            <div class="skillProgressBarProgress selected" style="width: 10%"></div>
                            <span class="skillProgressBarText"></span>
                        </div>
                        <div class="skillDisplay skillProgressBar selected" id="skillDisplay3">
                            <div class="skillProgressBarProgress selected" style="width: 10%"></div>
                            <span class="skillProgressBarText"></span>
                        </div>
                    </div>
                </div>
                <div class="display timeSpeedDisplay">
                    <span class="timeSpeed">Time Warping: </span>
                    <span class="timeSpeed">x</span><span id="timeSpeedDisplay" class="timeSpeed">[number]</span><br>
                    <span class="grayed">Base is 4 days/s</span>
                </div>
                <div class="display happinessDisplay">
                    <span class="happiness">Happiness: </span><span id="happinessDisplay"
                        class="happiness">[happiness]</span><br>
                    <span class="grayed">Affects all XP gain</span>
                </div>
                <div class="display evilDisplay">
                    <span class="evil">Evil: </span><span id="evilDisplay"
                        class="evil">[evil]</span><br>
                    <span class="grayed">Affects Dark magic XP gain</span>
                </div>
            </div>
            <div id="mainpanels">
                <div class="menu tab roboto-regular">
                    <div id="heroButton" class="tabButton menuButton" onclick="setTab('hero')">Hero</div>
                    <div id="skillsButton" class="tabButton menuButton" onclick="setTab('skills')">Skills</div>
                    <div id="shopButton" class="tabButton menuButton" onclick="setTab('shop')">Shop</div>
                    <div hidden id="amuletButton" class="tabButton menuButton" onclick="setTab('amulet')">Amulet</div>
                    <div id="settingsButton" class="tabButton menuButton" onclick="setTab('settings')">Settings</div>
                </div>
                <div class="main-panel tab roboto-regular">
                    <div class="subpanel hidden" id="heroPanel">
                        <div class="subsubpanel heroPanel" id="heroSubpanel">
                        </div>
                    </div>
                    <div class="subpanel hidden" id="skillsPanel">
                        <div class="subsubpanel skillPanel" id="skillSubpanel">
                        </div>
                    </div>
                    <div class="subpanel hidden" id="shopPanel">
                        <div class="subsubpanel shopPanel" id="shopSubpanel">
                        </div>
                    </div>
                    <div class="subpanel hidden" id="amuletPanel">
                        <div class="subsubpanel amuletPanel" id="amuletSubpanel">
                            <div hidden class="amuletText" id="amuletText1">You stumble across a strange looking amulet
                                on
                                your 25th birthday. It does not look like it has any worth on the market given that it's
                                made from cheap-looking copper. However, you feel a weird urge to keep the amulet, so
                                you slip it into your pocket for safekeeping. </div>
                            <div hidden class="amuletText" id="amuletText2">On your 45th birthday, you feel the amulet
                                shiver uncontrollably in your pocket. You take it out and the constant shivering
                                suddenly stops. More to your bizarre surprise, you notice a strange etching on the
                                centre of the amulet. </div>
                            <div hidden class="amuletText" id="amuletText3">
                                <div>On your 65th birthday, you once again encounter the strange, unexplained shivering
                                    from your amulet. But this time, a living eyeball emerges from the centre. Although
                                    terribly frightened, you realise you do not have many years to live left anyway so
                                    you consider touching the eye to see what happens. </div>
                                <div class="grayed"><i>By touching the eyeball, you will be reborn and have to restart life
                                    again, losing all your levels and coins. However, you will gain xp multipliers for
                                    your heroes and skills equivalent to: 1 + the max level of the hero or skill / 10.
                                    This means you will learn everything again much more quickly than you did in your
                                    previous life. <br><span style="color: var(--evil)">Something tells you that the amulet might
                                        evolve after living for 2 whole centuries... </i></span>
                                        <div class="rebirthButton" id="rebirth1" onclick="rebirth(1)">Touch the eye</div>
                                    </div>
                            </div>
                            <div hidden class="amuletText" id="amuletTextEvil">
                                Your gut instinct was right. The moment you hit the grand age of 200, you hear an ominous hum coming from the amulet.
                                A mouth emerges from its surface and begins to cackle, and proceeds to say: "So you've made it this far... Are you ready to embrace evil?"
                                <br><i><div class="grayed" style="color: var(--evil)">
                                    If you decide to embrace evil, all of your levels, coins and even max levels will be reset.
                                    You will be reborn as a fresh slate. However, you will unlock a new line of skills and gain
                                    <b><span id="evilGainDisplay"></span> evil</b>, which will heavily impact your future lives.
                                </div></i>
                                <div class="rebirthButton" id="rebirth2" onclick="rebirth(2)">Embrace Evil</div>
                            </div>
                        </div>
                    </div>
                    <div class="subpanel hidden" id="settingsPanel">
                        <div class="menu settingsButtons">
                            <div id="settingsSubbutton" class="settingsButton menuButton"
                                onclick="setSettings('settings')">Settings</div>
                            <div id="statsSubbutton" class="settingsButton menuButton" onclick="setSettings('stats')">
                                Stats</div>
                            <div id="changelogSubbutton" class="settingsButton menuButton"
                                onclick="setSettings('changelog')">Changelog</div>
                        </div>
                        <div id="settingsSubpanel" class="settingsSubpanel settingsPanel hidden">
                            <div class="groupedSettings">
                                <div class="setting menuButton" onclick="importGameData()">Import save</div>
                                <div class="setting menuButton" onclick="exportGameData()">Export save</div>
                            </div>
                            <form autocomplete="off">
                                <input class="setting menuButton" id="importExportBox" placeholder="Enter save here" type="text">
                            </form>
                            <div class="themes groupedSettings">
                                <div class="setting settingDark menuButton" onclick="switchPrimaryTheme(true)">
                                    <span>Primary Theme: </span><span id="selectedPrimaryTheme">Dark</span>
                                </div>
                                <div class="setting settingDark menuButton" onclick="switchSecondaryTheme(true)">
                                    <span>Secondary Theme: </span><span id="selectedSecondaryTheme">Blue</span>
                                </div>
                            </div>
                            <div class="setting settingDark menuButton" onclick="switchMobile(true)">
                                <span>Mobile UI style: </span><span id="selectedMobile">False</span>
                            </div>
                            <div class="setting settingDark menuButton" onclick="switchCoinsAmountDisplayed(true)">
                                <span>Display </span><span id="selectedCoinsAmountDisplayed">2</span><span> coin
                                    type(s)</span>
                            </div>
                            <div class="setting settingDark menuButton" onclick="switchCurrencyNotation(true)">
                                <span>Currency notation: </span><span id="selectedCurrencyNotation">Classic</span>
                            </div>
                            <div class="setting settingDark menuButton" onclick="switchUpdateSpeed(true)">
                                <span>Update rate: </span><span id="selectedUpdateSpeed">20</span><span> Hz</span><br>
                                <span class="grayed">Higher values may slow down the speed of the game (recommended â‰¤30
                                    Hz)</span>
                            </div>
                            <div class="zoomSettings groupedSettings">
                                <div class="setting settingDark menuButton" onclick="switchSidebarZoom(true)">
                                    <span>Sidebar zoom: </span><span id="selectedSidebarZoom">Error</span>
                                </div>
                                <div class="setting settingDark menuButton" onclick="switchMainpanelZoom(true)">
                                    <span>Main panel zoom: </span><span id="selectedMainpanelZoom">Error</span>
                                </div>
                            </div>
                            <div class="setting settingDark menuButton" onclick="switchTextShadow(true)">Text shadow:
                                <span id="textShadow"></span>
                            </div>
                            <div class="setting menuButton settingCategory experimentalSettingsButton"
                                onclick="switchExperimentalSettings(true)">Show experimental/dangerous settings
                            </div>
                            <div id="experimentalSettings" hidden>
                                <div class="subsetting menuButton" onclick="switchHideTitle(true)">Hide title: <span
                                        id="hideTitle"></span></div>
                                <div class="groupedSettings resetSettings">
                                    <div class="subsetting menuButton resetButton" onclick="reset()">Reset<br><span
                                            class="grayed">Fully resets the game</span></div>
                                    <div class="subsetting menuButton resetButton" onclick="reset(true)">Full
                                        Reset<br><span class="grayed">Also resets the settings</span></div>
                                </div>
                            </div>
                            <div style="margin-top: 10px" class="settingsLink">Based on progress knight <a href="https://ihtasham42.github.io/progress-knight/">(original)</a></div>
                            <div class="settingsLink">Join the official progress knight discord <a href="https://discord.gg/fTRS4pHGka">here</a></div>
                            <div class="settingsLink">Progress knight rewritten thread on the discord <a href="https://discord.com/channels/792066706121293834/1251267386254823515">here</a></div>
                            <div class="settingsLink">Github page <a href="https://github.com/Zdzban3/Progress-Knight-Rewritten">here</a></div>
                        </div>
                        <div id="statsSubpanel" class="settingsSubpanel statsPanel hidden">
                            <div class="statsText">
                                <span>You started the game on </span><span id="startDateDisplay">[date]</span><span>,
                                </span><span id="playedDaysDisplay">[days]</span><span> days ago.</span><br>
                                <span>You have played for <span id="playedRealTimeDisplay">[time]</span> (real
                                    time).</span><br>
                                <span>Your existence (total game time) has spanned <span
                                        id="playedGameTimeDisplayDays">[days]</span> days (<span
                                        id="playedGameTimeDisplayYears">[years]</span> years).</span><br>
                                <span>Your longest life was <span id="playedHighestTimeDisplayDays">[days]</span> days
                                    long (<span id="playedHighestTimeDisplayYears">[years]</span> years).</span><br>
                            </div>
                            <div class="jobType roboto-regular">
                                <div class="space"></div>
                                <div class="space"></div>
                                <div class="space"></div>
                                <div id="statsOfflineProgressBar" class="jobProgressBar selected">
                                    <div class="jobProgressBarProgress offlineProgressBarProgress selected"
                                        style="width: 10%"></div>
                                    <span class="jobProgressBarText offlineProgressBarText">Offline time Lv
                                        <span id="offlineProgressBarProgress" class="progressBarLevel">1</span></span>
                                </div>
                                <div class="space"></div>
                                <div class="space"></div>
                                <div class="space"></div>
                            </div>
                            <div class="statsText">
                                <span>(<span id="offlineTimeDisplay"></span>)</span>
                            </div>
                        </div>
                        <div id="changelogSubpanel" class="settingsSubpanel changelogPanel hidden">
                            <pre id="changelog-pre"></pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

<script type="text/javascript" src="js/HackTimer.js"></script>
<!-- <script src="https://cdn.jsdelivr.net/npm/break_infinity.js@2"></script> -->
<script type="text/javascript" src="js/math.js"></script>
<script type="text/javascript" src="js/data.js"></script>
<script type="text/javascript" src="js/setup.js"></script>
<script type="text/javascript" src="js/utils.js"></script>
<script type="text/javascript" src="js/ui.js"></script>
<script type="text/javascript" src="js/advancements.js"></script>
<script type="text/javascript" src="js/main.js"></script>

</html>